<md-toolbar class="md-medium">
    <h1 class="md-toolbar-tools">
        <md-button  data-ng-click="toggleMenu()" aria-label="Menu" hide-gt-md>
            <span class="mdi mdi-menu mdi-2x white"></span>
        </md-button>
        <a href="/">
            My account
        </a>
        <div flex></div>
        <md-button data-ng-href="/dashboard"  aria-label="Dashboard" title="Dashboard">
            <i class="mdi mdi-dashboard white mdi-2x"></i>
        </md-button>
        <md-button data-ng-href="/admin"  aria-label="Administration" title="Administration"
                   data-ng-if="Auth.isAdmin()">
            <i class="mdi mdi-perm-data-setting white mdi-2x"></i>
        </md-button>        
        <md-button class="md-icon-button" ui-sref="campaign" aria-label="Campaign" data-ng-if="Auth.isAdmin()">
            <md-tooltip>Campaign</md-tooltip>
            <md-icon md-font-icon="zmdi zmdi-phone-in-talk white zmdi-hc-2x"></md-icon>
        </md-button>
        <md-button aria-label="Search" data-ng-href="/search" title="Search">
            <i class="mdi mdi-search white mdi-2x"></i>
        </md-button>
        <md-button class="md-icon-button" ui-sref="diaporama" aria-label="Diaporama">
            <md-tooltip>Diaporama</md-tooltip>
            <md-icon md-font-icon class="zmdi zmdi-slideshow white zmdi-hc-2x"></md-icon>
        </md-button>
        <md-menu icon-color="white">
            <li>
                <a href="" data-ng-click="logout()">Logout</a>
            </li>
        </md-menu>
    </h1>
</md-toolbar>

<md-content id="my-account-view" class="md-padding" data-ng-init="ctrl.init()">

    <md-content flex class="md-whiteframe-z1">
        <md-toolbar md-theme="white" class="no-shadow">
            <h3 class="md-toolbar-tools" layout="row" layout-align="space-between">
                <span class="mdi mdi-info-outline"></span>
                <span flex>My informations</span>                    
            </h3>
        </md-toolbar>
        <md-divider></md-divider>
        
        <md-content layout="row" class="md-padding" layout-align="start start">
            <img src="https://interne.ovh.net/people/ajax/getPersonPhoto.cgi?personId=4831" alt="{{ctrl.user.name}} picture"
                 class="face" />
            <ul>
                <li>
                    <span>Name: </span>
                    <strong>{{ctrl.user.username}}</strong>
                </li>
                <li data-ng-if="ctrl.user.email">
                    <span>Email: </span>
                    <a data-ng-href="mailto:{{ctrl.user.email}}">{{ctrl.user.email}}</a>
                </li>
                <li>
                    <span>Role: </span>
                    <strong>{{ctrl.user.isSuperuser ? 'Admin' : 'User'}}</strong>
                </li>
            </ul>
        </md-content>

        <md-content layout="column" class="md-padding">
            <h4>Permissions</h4>

            <strong data-ng-if="">
                No permissions
            </strong>
            <table class="table table-condensed table-hover table-mc-indigo">
                <thead>
                    <tr>
                        <th>Queues</th>
                        <th>Type</th>
                        <th>Level</th>
                    </tr>
                </thead>
                <tbody data-ng-if="ctrl.user.permissions.length <= 0 && ctrl.user.role !== 'admin'">
                    <tr>
                        <td colspan="3">
                            No permissions
                        </td>
                    </tr>
                </tbody>
                <tbody data-ng-if="ctrl.user.permissions.length <= 0 && ctrl.user.role === 'admin'">
                    <tr>
                        <td colspan="3">
                            All permissions
                        </td>
                    </tr>
                </tbody>
                <tbody>
                    <tr data-ng-repeat="permission in ctrl.user.permissions">
                        <td data-title="Queue">{{permission.queue}}</td>
                        <td data-title="Source">{{permission.queueTypes.join(', ')}}</td>
                        <td data-title="Date">{{permission.level}}</td>
                    </tr>
                </tbody>              
            </table>

        </md-content>
    </md-content>
    
</md-content>
